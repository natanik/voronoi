package ru.animalware.geo.voronoi

import scala.collection.SortedSet

case class Polygon(v: Set[Point], point: Point) {

  val _vertices = SortedSet()(VerticesOrdering(point)) ++ v

  def vertices: SortedSet[Point] = _vertices
}

private case class VerticesOrdering(center: Point) extends Ordering[Point] {

  override def compare(p1: Point, p2: Point): Int = {
    val atan1 = Math.atan2(p1.y - center.y, p1.x - center.x)
    val atan2 = Math.atan2(p2.y - center.y, p2.x - center.x)
    atan1.compareTo(atan2)
  }
}